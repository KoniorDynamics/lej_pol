(this["webpackJsonplej-pol"]=this["webpackJsonplej-pol"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),o=n.n(c),r=n(38),i=n.n(r),s=(n(46),n(10)),l=(n(47),n.p+"static/media/licznik.14f6d54b.png"),u=(n(48),function(e){var t=e.handleWaterUse,n=e.openTap,c=e.closeTap,o=function(e,n){t(e,n)};return Object(a.jsxs)("div",{className:"main-wrapper",children:[Object(a.jsx)("img",{className:"counter-image",src:l,useMap:"#map"}),Object(a.jsxs)("map",{name:"map",children:[Object(a.jsx)("area",{target:"",alt:"pralka",title:"pralka",coords:"60,100,158,231",shape:"rect",onClick:function(){o("washingMachine")}}),Object(a.jsx)("area",{target:"",alt:"zmywarka",title:"zmywarka",coords:"477,283,597,406",shape:"rect",onClick:function(){o("dishWashingMachine")}}),Object(a.jsx)("area",{target:"",alt:"kran",title:"kran",coords:"282,128,275,113,273,49,290,31,326,32,326,6,365,8,361,30,379,30,378,67,311,66,308,116,299,126",shape:"poly",onMouseDown:n,onMouseUp:c}),Object(a.jsx)("area",{target:"",alt:"prysznic",title:"prysznic",coords:"431,287,435,231,427,171,447,155,469,169,493,144,529,146,531,188,497,199,466,221,464,286",shape:"poly",onClick:function(){o("shower")}})]})]})}),p=n.p+"static/media/rotor.849c5d33.svg",f=(n(49),function(e){var t=e.rotation;return Object(a.jsx)("div",{className:"rotor-wrapper",children:Object(a.jsx)("img",{src:p,style:{transform:"rotate("+t+"deg)"}})})}),h=n(40),j=(n(50),function(e){var t=e.totalVolume;return Object(a.jsx)("div",{className:"metter-wrapper",children:function(){for(var e=t.toString().split(""),n=e.indexOf("."),c=[],o=0;o<=n;o++)c.push("0");return[].concat(c,Object(h.a)(e)).map((function(e,t){return Object(a.jsx)("div",{className:"digit-container",children:e},t)}))}()})}),b=n(39),d=n.n(b)()().connect("http://127.0.0.1:5000/api_v1/water_meter"),m=function(){d.on("connected",(function(){console.log("WebSocket Client Connected")})),d.on("event",(function(e){console.log(e)}))},g=function(e){console.log(e),d.emit("message",e)},O={tap:function(){return 27e-5},washingMachine:function(e){return 32e-5*Math.abs(Math.cos(3*(e+8)/8))},dishWashingMachine:function(e){return 32e-5*Math.abs(Math.cos(e%7/3))},shower:function(e){return 29e-5*Math.abs(Math.cos(e/3))}};var v=function(){m();var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(0),i=Object(s.a)(r,2),l=i[0],p=i[1],h=Object(c.useState)(0),b=Object(s.a)(h,2),d=b[0],v=b[1],w=Object(c.useState)(3.345765),x=Object(s.a)(w,2),k=x[0],M=x[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{handleWaterUse:function(e){!function(e,t){if(!n){var a;switch(e){case"washingMachine":a=17e3;break;case"dishWashingMachine":a=24e3;break;case"shower":a=8e3;break;case"tap":a=t;break;default:a=0}o(!0);var c=0,r=setInterval((function(){p(l+(c+=1)),c%100===0&&g(JSON.stringify({time:Date.now(),flow:O[e](10*c)})),M((parseFloat(k)+c/1e6).toFixed(6))}),10);setTimeout((function(){o(!1),clearInterval(r)}),a)}}(e)},closeTap:function(){o(!1),clearInterval(d)},openTap:function(){!function(){if(!n){o(!0);var e=0;v(setInterval((function(){p(l+(e+=1)),e%100===0&&g(JSON.stringify({time:Date.now(),flow:O.tap()})),M((parseFloat(k)+e/1e6).toFixed(6))}),10))}}()}}),Object(a.jsx)(f,{rotation:l}),Object(a.jsx)(j,{totalVolume:k})]})},w=(n(82),function(e){e&&e instanceof Function&&Promise.resolve().then(n.bind(null,82)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))});i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),w()}},[[83,1,2]]]);
//# sourceMappingURL=main.7202edab.chunk.js.map